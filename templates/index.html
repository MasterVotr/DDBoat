<!-- templates/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GPS Visualization App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <!-- Leaflet CSS (Downgraded to 1.7.1 for compatibility) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <!-- noUiSlider CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.5.1/dist/nouislider.min.css" />
</head>
<body>
    <div id="sidebar">
        <h2>Navigation Info</h2>
        <p>Latitude: <span id="latitude">--</span></p>
        <p>Longitude: <span id="longitude">--</span></p>
        <p>Compass Heading: <span id="compass_heading">--</span>°</p>
        <p>Heading Difference: <span id="angle_to_ref">--</span>°</p>
        <p>Distance to Goal: <span id="distance_to_goal">--</span> meters</p>

        <h3>Mode</h3>
        <label class="switch">
            <input type="checkbox" id="mode_switch">
            <span class="slider round"></span>
        </label>
        <p>Mode: <span id="mode_indicator">Live</span></p>

        <h3>Settings</h3>
        <div id="settings">
            <label for="ip_address">Data Source IP:</label>
            <input type="text" id="ip_address" placeholder="Enter IP address" value="127.0.0.1" />
            <button id="set_ip_button">Set IP Address</button>

            <label for="polling_rate">Polling Interval (seconds):</label>
            <input type="number" id="polling_rate" min="0.1" step="0.1" value="0.5" />
            <button id="set_polling_rate_button">Set Polling Interval</button>
        </div>

        <button id="clear_data_button">Clear Data</button>
    </div>
    <div id="map"></div>
    <div id="timeline_slider"></div>

    <!-- Socket.IO -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.3/socket.io.min.js"></script>
    <!-- Leaflet JS (Downgraded to 1.7.1 for compatibility) -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <!-- Leaflet PolylineDecorator Plugin -->
    <script src="https://unpkg.com/leaflet-polylinedecorator@1.7.0/dist/leaflet.polylineDecorator.min.js"></script>
    <!-- noUiSlider JS -->
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.5.1/dist/nouislider.min.js"></script>
    <!-- App JS -->
    <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
